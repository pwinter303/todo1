<section    id="import">

    <br>

    <div class="container-fluid">

        <div class="col-md-3 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading"><h3>Import Selection</h3></div>
                <div class="panel-body">
                    <div ng-controller='FileUploadCtrl'>
                        <div class="control-group">
                            <div class="controls">
                            <span class="btn btn-success fileinput-button">
                                <i class="icon-plus icon-white"></i>
                                <input type="file" name="file" data-url="upload.php"
                                       multiple upload><span>Add files...</span>
                            </span>
                            </div>
                        </div>

                        <div>
                            <span ng-show="!files.length">No files selected</span>
                            <ul>
                                <li ng-repeat="file in files">{{file}}</li>
                            </ul>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary pull-left" ng-click="upload()">Upload</button>
                        </div>

                        <div class="progress" ng-show="percentage">
                            <div class="bar" style="width: {{percentage}}%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="col-md-9 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading"><h3>Instructions</h3></div>
                <div class="panel-body">
                    <h3>Introduction... Why Import To Dos</h3>
                    If you have a list of To Dos on your computer or are switching from another site, it's easy to upload them to TodoGiant.com.  This saves you time and effort since you won't have to re-type what you already have! <br>
                    <h3>Steps:</h3>
                    <ol>
                        <li>Get your existing To Dos into an excel spreadsheet. The order of the columns is very important. <a href="views/todo_upload_sample.csv">Click HERE to to download a sample file</a> </li>
                            <ol>
                                <li>Category: Determines where To Dos are uploaded. Should be 'Home' or 'Work' (assuming you haven't changed them)</li>
                                <li>To Do Name: Name of the To Do.  For example 'Buy Milk'</li>
                                <li>Due Date: When the To Do is due. Use mm/dd/yyyy format. For example:  08/05/2014</li>
                                <li>Category: Category or Tag. Used to group several To Dos</li>
                                <li>Frequency: Valid Values: Once, Daily, Weekly, Monthly, Quarterly, Yearly</li>
                                <li>Priority: Valid Values:  1-Max, 2, 3, 4, 5, 6, 7, 8, 9-Low</li>
                            </ol>
                        <li>Save the To Do spreadsheet as a CSV file</li>
                        <li>Click the green "add files' button on this page and select the csv file you saved</li>
                        <li>Press the blue 'upload' button and your To Dos will be instantly uploaded to the TodoGiant site</li>
                        <li>You can use the section at the bottom of the page to delete previous uploads</li>
                    </ol>
                </div>
            </div>
        </div>

        <br>

        <div class="col-md-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading"><h3>Previous Uploads:</h3></div>
                <div class="panel-body">

                    <div class="row">
                        <div class="col-md-3 small text-center">File Name</div>
                        <div class="col-md-2 small text-center">Upload Date and Time</div>
                        <div class="col-md-2 small text-center">To Dos Imported</div>
                        <div class="col-md-2 small text-center">Skipped, To Do Group Not Found</div>
                        <div class="col-md-2 small text-center">Skipped, Exceeded Limit</div>
                        <div class="col-md-1 small text-center">Delete Upload and To Dos</div>
                    </div>

                    <div ng-controller='BatchesCtrl'>

                        <div data-ng-repeat="batch in batches">
                            <div class="row">
                                <div class="col-md-3">
                                    {{batch.file_name}}
                                </div>
                                <div class="col-md-2 text-center">
                                    {{batch.upload_dt}}
                                </div>
                                <div class="col-md-2  text-center">
                                    {{batch.count_uploaded}}
                                </div>
                                <div class="col-md-2  text-center">
                                    {{batch.count_error_no_group}}
                                </div>
                                <div class="col-md-2  text-center" >
                                    {{batch.count_error_above_limit}}
                                </div>
                                <div class="col-md-1">
                                    <button  class="btn btn-danger btn-group-sm" data-ng-click="deleteBatch(batch)">Delete!</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>